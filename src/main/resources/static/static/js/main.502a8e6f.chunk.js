(this["webpackJsonpreact-front-end"]=this["webpackJsonpreact-front-end"]||[]).push([[0],{43:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(3),o=n.n(r),a=n(18),s=n.n(a),l=(n(9),n(5)),i=n(1),u=n(19),j=n(4),b=n.n(j),d=n(8),f=n(6),h=n.n(f);function O(){return(O=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://nerdystestapp.herokuapp.com/v1/floorPlan").catch((function(e){console.log(e)}));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function p(){return(p=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("https://nerdystestapp.herokuapp.com/v1/floorPlan",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){var e=Object(r.useRef)(null),t=Object(r.useState)({floorPlan:[],showInputForm:!1,floor:[],errorMessage:null}),n=Object(u.a)(t,2),o=n[0],a=n[1];Object(r.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){a((function(t){return Object(i.a)(Object(i.a)({},t),{},{floorPlan:e})}))}))}),[]);var s=function(e){var t=e.target,n=t.name,c=t.value;a((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(l.a)({},n,c))}))},j=function(e,t){a((function(e){return Object(i.a)(Object(i.a)({},e),{},{floorPlan:o.floorPlan.filter((function(e,n){return n!==t}))})})),function(e){try{h.a.delete("https://nerdystestapp.herokuapp.com/v1/floorPlan/".concat(e))}catch(t){console.log(t)}}(e)},b=function(){(function(e){return p.apply(this,arguments)})({room:o.floor}).then((function(e){console.log(e),a((function(t){return Object(i.a)(Object(i.a)({},t),{},{floorPlan:o.floorPlan.concat(e)})}))})).catch((function(e){a((function(t){return Object(i.a)(Object(i.a)({},t),{},{errorMessage:e.response.data.errors[0].defaultMessage})}))})),console.log(o)},d=Object(c.jsxs)("div",{className:"inputActions",children:[Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"x"}),Object(c.jsx)("th",{children:"y"})]})}),Object(c.jsx)("tbody",{children:o.floor.map((function(e,t){return Object(c.jsxs)("tr",{onClick:function(){return function(e){a((function(t){return Object(i.a)(Object(i.a)({},t),{},{floor:o.floor.filter((function(t,n){return n!==e}))})}))}(t)},children:[Object(c.jsx)("td",{children:e.x}),Object(c.jsx)("td",{children:e.y})]},t)}))})]}),Object(c.jsx)("button",{className:"save",onClick:function(){return b()},children:"Save"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a((function(e){return Object(i.a)(Object(i.a)({},e),{},{floor:o.floor.concat({x:o.x,y:o.y})})}))},className:"coordinatesInputForm",children:[Object(c.jsx)("input",{name:"x",type:"number",value:o.x||"",onChange:s,placeholder:"x"}),Object(c.jsx)("input",{name:"y",type:"number",value:o.y||"",onChange:s,placeholder:"y"}),Object(c.jsx)("button",{type:"submit",children:"Submit"})]}),null!==o.errorMessage?Object(c.jsx)("h1",{children:o.errorMessage}):null]});return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("canvas",{className:"canvas",ref:e}),d]}),Object(c.jsx)("div",{className:"actionsElements",children:o.floorPlan.map((function(t,n){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"coordinateElement",onClick:function(){return function(t){var n=e.current,c=n.getContext("2d");n.width=800,n.height=500,c.fillStyle="#000000",c.beginPath(),t.map((function(e){c.lineTo(e.x,e.y)})),c.closePath(),c.stroke()}(t.room)},children:Object(c.jsxs)("table",{className:"tableInfo",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"x"}),Object(c.jsx)("th",{children:"y"})]})}),Object(c.jsx)("tbody",{children:t.room.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.x}),Object(c.jsx)("td",{children:e.y})]},t)}))})]})}),Object(c.jsx)("div",{className:"deleteContainer",children:Object(c.jsx)("button",{className:"btn",onClick:function(){return j(t.roomId,n)},children:"Delete"})})]},t.roomId)}))})]})};var m=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(x,{})})};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[43,1,2]]]);
//# sourceMappingURL=main.502a8e6f.chunk.js.map